let table;
let nodeArray = [];
let colorArray = [];
let faceWeight = 4;
let faceLineColor;
let backgroundColor;
let nodeBackgroundColor;

let frameCounter = 1;

function preload() {
  table = loadTable("momNode.csv", "csv");
}

function setup() {
  createCanvas(800, 800);
  faceLineColor = color(255, 255, 255);
  backgroundColor = color(0, 0, 0);
  nodeBackgroundColor = backgroundColor;
  for (let r = 0; r < table.getRowCount(); r++) {
    nodeArray.push(
      createVector(float(table.getString(r, 0)), float(table.getString(r, 1)))
    );
    colorArray.push(color(random(0, 256), random(0, 256), random(0, 256)));
  }

  //frameRate(1);
  frameRate(20)
}

function draw() {
  //background('#0e1d44');
  background(backgroundColor);
  faceLineColor = color(random(0, 256), random(0, 256), random(0, 256));
  translate(100, 50);

  strokeCap(ROUND);
  strokeJoin(ROUND);
  stroke("rgba(0,0,0,0)");
  strokeCap(PROJECT);
  strokeJoin(MITER);
  fill("rgba(0, 0, 0, 0)");
  stroke(faceLineColor);
  strokeWeight(faceWeight);
  beginShape();
  vertex(206.057, 390.009);
  bezierVertex(208.129, 393.278, 212.274, 399.816, 211.133, 404.595);
  bezierVertex(209.993, 409.374, 201.711, 413.062, 199.216, 418.684);
  bezierVertex(196.154, 425.583, 196.028, 438.742, 192.763, 445.988);
  bezierVertex(189.909, 452.32, 183.161, 457.235, 179.623, 462.159);
  bezierVertex(176.584, 466.39, 172.885, 470.66, 171.537, 475.532);
  bezierVertex(170.189, 480.404, 170.034, 487.453, 171.537, 491.393);
  bezierVertex(172.952, 495.101, 177.018, 498.442, 180.556, 499.168);
  bezierVertex(184.093, 499.893, 189.808, 496.058, 192.763, 495.747);
  bezierVertex(194.664, 495.547, 196.713, 496.211, 198.283, 497.302);
  bezierVertex(200.446, 498.805, 202.782, 502.87, 205.746, 504.765);
  bezierVertex(208.908, 506.787, 213.884, 509.379, 217.253, 509.43);
  bezierVertex(220.498, 509.48, 223.112, 506.63, 225.961, 505.076);
  bezierVertex(228.812, 503.521, 231.3, 500.567, 234.358, 500.101);
  bezierVertex(237.416, 499.634, 241.232, 500.842, 244.31, 502.278);
  bezierVertex(247.419, 503.729, 249.804, 508.964, 253.017, 508.808);
  bezierVertex(256.231, 508.653, 260.74, 504.506, 263.591, 501.345);
  bezierVertex(266.442, 498.183, 269.241, 493.777, 270.122, 489.838);
  bezierVertex(271.003, 485.899, 269.604, 480.819, 268.878, 477.709);
  bezierVertex(268.33, 475.361, 266.846, 473.335, 265.768, 471.178);
  bezierVertex(264.369, 468.379, 261.816, 464.525, 260.481, 460.915);
  bezierVertex(259.082, 457.132, 257.941, 451.361, 257.371, 448.476);
  endShape();
  fill("rgba(0, 0, 0, 0)");
  stroke(faceLineColor);
  strokeWeight(faceWeight);
  beginShape();
  vertex(125.199, 375.081);
  bezierVertex(127.825, 376.844, 131.629, 379.851, 135.048, 381.923);
  bezierVertex(138.468, 383.996, 141.867, 386.394, 145.725, 387.521);
  bezierVertex(149.629, 388.661, 154.224, 388.36, 158.475, 388.765);
  bezierVertex(162.829, 389.18, 167.442, 390.009, 171.848, 390.009);
  bezierVertex(176.222, 390.009, 181.437, 389.128, 184.91, 388.765);
  bezierVertex(187.506, 388.494, 193.514, 389.698, 192.685, 387.832);
  bezierVertex(191.855, 385.966, 184.391, 380.472, 179.934, 377.569);
  bezierVertex(175.544, 374.71, 170.76, 372.334, 165.939, 370.416);
  bezierVertex(161.123, 368.5, 156.144, 366.787, 151.012, 366.062);
  bezierVertex(145.869, 365.337, 139.128, 365.44, 135.085, 366.062);
  bezierVertex(132.077, 366.525, 129.387, 368.913, 126.754, 369.794);
  bezierVertex(124.344, 370.601, 119.549, 370.468, 119.29, 371.349);
  bezierVertex(119.031, 372.231, 123.265, 373.783, 125.199, 375.081);
  endShape();
  fill("rgba(0, 0, 0, 0)");
  stroke(faceLineColor);
  strokeWeight(faceWeight);
  beginShape();
  vertex(279.452, 403.382);
  bezierVertex(279.01, 401.665, 284.408, 399.822, 287.219, 398.717);
  bezierVertex(290.381, 397.473, 294.806, 396.939, 298.422, 395.918);
  bezierVertex(301.954, 394.92, 305.326, 393.068, 308.915, 392.587);
  bezierVertex(312.504, 392.106, 316.479, 392.474, 319.955, 393.029);
  bezierVertex(323.324, 393.567, 326.633, 394.586, 329.774, 395.917);
  bezierVertex(333.312, 397.418, 337.379, 399.993, 341.183, 402.03);
  bezierVertex(345.005, 404.076, 348.814, 406.241, 352.707, 408.197);
  bezierVertex(356.743, 410.226, 365.792, 413.175, 365.398, 414.201);
  bezierVertex(365.005, 415.227, 354.493, 413.849, 350.348, 414.352);
  bezierVertex(346.963, 414.763, 343.907, 416.765, 340.527, 417.218);
  bezierVertex(335.289, 417.921, 325.339, 419.051, 318.92, 418.567);
  bezierVertex(313.125, 418.129, 306.853, 415.901, 302.012, 414.31);
  bezierVertex(297.818, 412.931, 293.632, 410.839, 289.872, 409.017);
  bezierVertex(286.318, 407.296, 279.894, 405.098, 279.452, 403.382);
  endShape();
  fill("rgba(0, 0, 0, 0)");
  stroke(faceLineColor);
  strokeWeight(faceWeight);
  beginShape();
  vertex(135.151, 533.066);
  bezierVertex(134.218, 534.102, 143.382, 545.078, 148.524, 550.17);
  bezierVertex(153.966, 555.561, 162.104, 560.381, 167.805, 565.409);
  bezierVertex(173.083, 570.063, 176.617, 577.02, 182.733, 580.337);
  bezierVertex(188.849, 583.654, 197.92, 584.587, 204.502, 585.313);
  bezierVertex(210.379, 585.961, 216.343, 585.249, 222.229, 584.691);
  bezierVertex(228.242, 584.121, 234.824, 583.291, 240.578, 581.892);
  bezierVertex(246.12, 580.544, 252.499, 578.678, 256.749, 576.294);
  bezierVertex(260.459, 574.213, 262.49, 569.87, 266.079, 567.586);
  bezierVertex(270.07, 565.046, 277.223, 562.351, 280.696, 561.055);
  bezierVertex(282.677, 560.316, 288.527, 559.157, 286.916, 559.811);
  bezierVertex(285.304, 560.465, 276.583, 564.608, 271.026, 564.98);
  bezierVertex(264.841, 565.395, 256.379, 562.591, 249.801, 562.299);
  bezierVertex(243.718, 562.03, 237.641, 563.517, 231.559, 563.232);
  bezierVertex(223.802, 562.869, 211.241, 561.574, 203.258, 560.122);
  bezierVertex(196.576, 558.907, 189.782, 556.442, 183.666, 554.524);
  bezierVertex(177.91, 552.72, 171.485, 550.378, 166.561, 548.615);
  bezierVertex(162.392, 547.123, 158.09, 545.915, 154.121, 543.951);
  bezierVertex(148.886, 541.359, 136.084, 532.029, 135.151, 533.066);
  endShape();
  fill("rgba(0, 0, 0, 0)");
  stroke(faceLineColor);
  strokeWeight(faceWeight);
  beginShape();
  vertex(62.085, 472.969);
  bezierVertex(58.596, 475.146, 47.754, 464.079, 43.408, 457.183);
  bezierVertex(38.222, 448.955, 35.905, 434.467, 30.968, 423.596);
  bezierVertex(25.578, 411.727, 15.781, 397.628, 11.065, 385.966);
  bezierVertex(6.888, 375.64, 2.763, 364.761, 2.668, 353.623);
  bezierVertex(2.564, 341.546, 9.717, 326.825, 10.443, 313.505);
  bezierVertex(11.167, 300.206, 7.125, 283.908, 7.022, 273.697);
  bezierVertex(6.948, 266.484, 9.865, 259.452, 9.821, 252.239);
  bezierVertex(9.769, 243.842, 5.599, 232.949, 6.711, 223.317);
  bezierVertex(8.11, 211.188, 14.693, 193.72, 18.217, 179.467);
  bezierVertex(21.64, 165.625, 22.779, 149.87, 27.858, 137.793);
  bezierVertex(32.663, 126.371, 40.486, 116.288, 48.695, 107.005);
  bezierVertex(58.595, 95.809, 78.032, 80.363, 87.258, 70.619);
  bezierVertex(93.616, 63.904, 98.039, 55.328, 104.052, 48.538);
  bezierVertex(109.981, 41.842, 115.527, 34.245, 123.333, 29.879);
  bezierVertex(135.566, 23.037, 159.305, 11.893, 177.446, 7.487);
  bezierVertex(195.224, 3.17, 213.889, 3.746, 232.181, 3.444);
  bezierVertex(254.158, 3.082, 286.034, 1.112, 309.307, 5.31);
  bezierVertex(331.194, 9.259, 355.23, 22.726, 371.817, 28.635);
  bezierVertex(384.046, 32.991, 397.117, 35.156, 408.825, 40.764);
  bezierVertex(429.713, 50.767, 477.71, 76.476, 497.147, 88.657);
  bezierVertex(507.849, 95.363, 517.875, 103.74, 525.447, 113.847);
  bezierVertex(537.991, 130.589, 562.559, 169.152, 572.407, 189.107);
  bezierVertex(579.207, 202.886, 582.94, 218.297, 584.536, 233.579);
  bezierVertex(586.247, 249.958, 585.32, 269.633, 582.67, 287.381);
  bezierVertex(579.923, 305.782, 573.283, 325.211, 568.053, 343.982);
  bezierVertex(562.248, 364.818, 554.007, 391.46, 547.839, 412.4);
  bezierVertex(542.222, 431.469, 537.576, 455.007, 531.045, 469.623);
  bezierVertex(525.903, 481.133, 515.392, 492.17, 508.654, 500.101);
  bezierVertex(503.289, 506.415, 496.552, 511.423, 490.616, 517.205);
  bezierVertex(484.604, 523.062, 477.243, 530.008, 472.579, 535.243);
  bezierVertex(468.882, 539.391, 466.532, 544.663, 462.627, 548.615);
  bezierVertex(458.377, 552.918, 451.638, 556.546, 447.077, 561.055);
  bezierVertex(442.622, 565.46, 439.913, 571.476, 435.26, 575.672);
  bezierVertex(428.936, 581.373, 418.559, 589.817, 409.136, 595.264);
  bezierVertex(399.184, 601.018, 382.339, 607.29, 375.549, 610.192);
  bezierVertex(373.227, 611.184, 370.898, 613.011, 368.396, 612.68);
  bezierVertex(365.649, 612.317, 357.984, 611.32, 359.066, 608.015);
  bezierVertex(360.984, 602.158, 373.919, 588.292, 379.903, 577.538);
  bezierVertex(387.055, 564.683, 396.022, 545.246, 401.983, 530.889);
  bezierVertex(407.325, 518.021, 411.624, 504.299, 415.667, 491.393);
  bezierVertex(419.591, 478.864, 423.648, 464.263, 426.241, 453.452);
  bezierVertex(428.369, 444.576, 429.721, 435.286, 431.224, 426.526);
  bezierVertex(432.687, 418.002, 438.052, 409.08, 435.26, 400.894);
  bezierVertex(431.734, 390.557, 419.036, 375.289, 410.069, 364.508);
  bezierVertex(401.491, 354.194, 390.891, 345.226, 381.458, 336.207);
  bezierVertex(372.284, 327.437, 360.331, 321.071, 353.468, 310.395);
  bezierVertex(346.471, 299.51, 340.251, 281.991, 339.473, 270.899);
  bezierVertex(338.806, 261.382, 344.763, 252.484, 348.803, 243.842);
  bezierVertex(352.898, 235.082, 360.154, 224.942, 364.042, 218.341);
  bezierVertex(366.792, 213.67, 373.527, 205.528, 372.128, 204.233);
  bezierVertex(370.728, 202.937, 361.399, 209.329, 355.645, 210.566);
  bezierVertex(349.529, 211.881, 341.391, 212.173, 335.431, 212.121);
  bezierVertex(330.21, 212.075, 324.947, 211.515, 319.881, 210.255);
  bezierVertex(314.594, 208.94, 309.382, 205.188, 303.709, 204.233);
  bezierVertex(297.749, 203.229, 289.3, 202.089, 284.117, 204.233);
  bezierVertex(278.933, 206.377, 275.242, 211.981, 272.61, 217.097);
  bezierVertex(269.293, 223.543, 267.168, 235.86, 264.213, 242.909);
  bezierVertex(261.773, 248.732, 259.411, 254.992, 254.883, 259.392);
  bezierVertex(249.389, 264.731, 239.976, 271.371, 231.248, 274.941);
  bezierVertex(222.125, 278.673, 209.686, 281.161, 200.148, 281.783);
  bezierVertex(191.398, 282.354, 182.577, 280.332, 174.025, 278.673);
  bezierVertex(165.483, 277.017, 156.869, 272.557, 148.835, 271.832);
  bezierVertex(141.15, 271.137, 133.359, 272.673, 125.821, 274.319);
  bezierVertex(116.802, 276.289, 101.201, 278.207, 94.722, 283.649);
  bezierVertex(88.447, 288.92, 88.725, 298.974, 86.947, 306.974);
  bezierVertex(84.977, 315.837, 84.77, 328.225, 82.904, 336.829);
  bezierVertex(81.285, 344.294, 77.721, 351.238, 75.751, 358.599);
  bezierVertex(73.782, 365.959, 72.944, 373.596, 71.086, 380.99);
  bezierVertex(69.185, 388.558, 65.191, 396.055, 64.342, 404.004);
  bezierVertex(63.218, 414.526, 64.718, 432.628, 64.342, 444.122);
  bezierVertex(64.027, 453.762, 65.574, 470.792, 62.085, 472.969);
  endShape();
  fill("rgba(0, 0, 0, 0)");
  stroke(faceLineColor);
  strokeWeight(faceWeight);
  beginShape();
  vertex(88.956, 297.357);
  bezierVertex(87.453, 304.355, 87.414, 317.38, 85.392, 327.188);
  bezierVertex(82.828, 339.624, 76.891, 359.428, 73.574, 371.971);
  bezierVertex(70.887, 382.133, 66.677, 392.006, 65.488, 402.449);
  bezierVertex(64.037, 415.199, 64.969, 433.132, 64.866, 448.476);
  bezierVertex(64.763, 463.974, 63.74, 479.823, 64.866, 495.436);
  bezierVertex(66.007, 511.244, 66.097, 528.21, 71.708, 543.329);
  bezierVertex(77.98, 560.226, 94.203, 584.535, 102.497, 596.819);
  bezierVertex(107.667, 604.478, 115.588, 609.905, 121.467, 617.034);
  bezierVertex(128.05, 625.016, 134.166, 637.041, 141.993, 644.712);
  bezierVertex(149.653, 652.22, 158.609, 658.743, 168.427, 663.061);
  bezierVertex(178.327, 667.415, 190.404, 669.747, 201.392, 670.836);
  bezierVertex(212.335, 671.92, 223.71, 672.34, 234.358, 669.592);
  bezierVertex(245.605, 666.689, 258.201, 658.811, 268.878, 653.42);
  bezierVertex(278.9, 648.361, 288.192, 641.872, 298.422, 637.249);
  bezierVertex(310.81, 631.651, 330.297, 629.315, 343.205, 619.833);
  bezierVertex(356.682, 609.933, 369.586, 593.548, 379.281, 577.849);
  bezierVertex(389.492, 561.314, 397.526, 537.938, 404.471, 520.626);
  bezierVertex(410.612, 505.32, 416.511, 489.859, 420.954, 473.977);
  bezierVertex(425.463, 457.857, 429.35, 436.865, 431.527, 423.907);
  bezierVertex(433.062, 414.772, 437.364, 404.866, 434.015, 396.229);
  bezierVertex(430.076, 386.07, 416.496, 372.593, 407.892, 362.953);
  bezierVertex(400.032, 354.146, 390.632, 345.952, 382.391, 338.384);
  bezierVertex(374.597, 331.228, 365.122, 325.755, 358.444, 317.548);
  bezierVertex(351.654, 309.203, 344.501, 297.799, 341.65, 288.314);
  bezierVertex(338.995, 279.478, 339.462, 269.669, 341.339, 260.636);
  bezierVertex(343.257, 251.41, 348.392, 241.785, 353.157, 232.957);
  bezierVertex(358.081, 223.835, 371.195, 209.322, 370.884, 205.901);
  bezierVertex(370.573, 202.48, 358.096, 211.388, 351.291, 212.432);
  bezierVertex(343.516, 213.624, 333.046, 214.246, 324.235, 213.054);
  bezierVertex(315.423, 211.862, 306.405, 206.108, 298.422, 205.279);
  bezierVertex(291.043, 204.512, 281.042, 202.338, 276.342, 208.078);
  bezierVertex(270.018, 215.801, 267.116, 240.888, 260.481, 251.617);
  bezierVertex(254.916, 260.616, 244.983, 267.633, 236.535, 272.454);
  bezierVertex(228.445, 277.069, 218.445, 278.933, 209.789, 280.539);
  bezierVertex(201.518, 282.075, 192.945, 283.147, 184.599, 282.094);
  bezierVertex(173.092, 280.643, 153.24, 272.194, 140.749, 271.832);
  bezierVertex(130.042, 271.521, 117.372, 277.689, 109.649, 279.917);
  bezierVertex(104.484, 281.408, 97.86, 282.298, 94.411, 285.204);
  bezierVertex(91.015, 288.066, 89.889, 293.016, 88.956, 297.357);
  endShape();
  fill("rgba(0, 0, 0, 0)");
  stroke(faceLineColor);
  strokeWeight(faceWeight);
  beginShape();
  vertex(135.085, 532.986);
  bezierVertex(135.871, 532.357, 154.888, 537.659, 154.888, 537.659);
  bezierVertex(154.888, 537.659, 165.527, 539.805, 170.918, 540.342);
  bezierVertex(176.84, 540.933, 184.142, 540.257, 190.419, 541.202);
  bezierVertex(196.612, 542.135, 203.474, 545.491, 208.582, 546.015);
  bezierVertex(212.76, 546.443, 216.879, 544.067, 221.069, 544.344);
  bezierVertex(225.838, 544.659, 231.903, 546.399, 237.199, 547.903);
  bezierVertex(242.593, 549.436, 247.935, 552.385, 253.432, 553.538);
  bezierVertex(258.912, 554.687, 264.66, 553.879, 270.18, 554.818);
  bezierVertex(275.807, 555.774, 286.58, 557.948, 287.193, 559.278);
  bezierVertex(287.806, 560.608, 277.357, 561.887, 273.857, 562.798);
  bezierVertex(271.307, 563.463, 268.829, 564.796, 266.194, 564.747);
  bezierVertex(261.451, 564.658, 251.824, 562.567, 245.398, 562.267);
  bezierVertex(239.48, 561.991, 233.555, 563.253, 227.639, 562.947);
  bezierVertex(221.377, 562.623, 213.762, 561.433, 207.825, 560.323);
  bezierVertex(202.477, 559.324, 197.238, 557.797, 192.012, 556.286);
  bezierVertex(186.216, 554.611, 178.552, 552.081, 173.051, 550.27);
  bezierVertex(168.346, 548.72, 162.818, 546.89, 159.005, 545.417);
  bezierVertex(155.991, 544.253, 153.037, 542.921, 150.171, 541.431);
  bezierVertex(146.184, 539.359, 134.299, 533.615, 135.085, 532.986);
  endShape();
  fill("rgba(0, 0, 0, 0)");
  stroke(faceLineColor);
  strokeWeight(faceWeight);
  beginShape();
  vertex(270.404, 390.009);
  bezierVertex(271.519, 390.905, 277.65, 385.324, 280.696, 382.651);
  bezierVertex(283.651, 380.058, 285.21, 375.818, 288.681, 373.973);
  bezierVertex(292.269, 372.065, 297.663, 371.861, 302.223, 371.206);
  bezierVertex(306.944, 370.529, 312.084, 370.393, 317.007, 369.909);
  bezierVertex(322.733, 369.346, 330.276, 368.349, 336.579, 367.827);
  bezierVertex(342.651, 367.324, 349.065, 366.124, 354.827, 366.778);
  bezierVertex(360.479, 367.42, 365.797, 369.831, 371.151, 371.753);
  bezierVertex(376.724, 373.754, 383.764, 376.882, 388.268, 378.785);
  bezierVertex(391.594, 380.191, 397.788, 384.327, 398.172, 383.173);
  bezierVertex(398.557, 382.019, 394.101, 374.726, 390.576, 371.862);
  bezierVertex(386.624, 368.651, 379.554, 366.791, 374.461, 363.908);
  bezierVertex(369.471, 361.083, 365.535, 356.128, 360.019, 354.563);
  bezierVertex(354.253, 352.926, 345.622, 354.247, 339.865, 354.087);
  bezierVertex(335.07, 353.954, 330.278, 353.641, 325.481, 353.605);
  bezierVertex(320.384, 353.567, 314.684, 353.861, 309.284, 353.858);
  bezierVertex(303.624, 353.856, 295.952, 352.977, 291.518, 353.59);
  bezierVertex(288.322, 354.031, 284.968, 355.261, 282.68, 357.536);
  bezierVertex(280.071, 360.129, 277.311, 365.861, 275.866, 369.151);
  bezierVertex(274.748, 371.695, 274.71, 374.589, 274.006, 377.276);
  bezierVertex(273.096, 380.753, 269.289, 389.113, 270.404, 390.009);
  endShape();
  fill("rgba(0, 0, 0, 0)");
  stroke(faceLineColor);
  strokeWeight(faceWeight);
  beginShape();
  vertex(209.293, 373.019);
  vertex(199.468, 348.726);
  bezierVertex(199.468, 348.726, 185.91, 338.723, 180.447, 335.095);
  bezierVertex(176.009, 332.147, 171.453, 329.344, 166.69, 326.957);
  bezierVertex(161.86, 324.536, 156.746, 322.127, 151.469, 320.57);
  bezierVertex(145.844, 318.911, 138.886, 317.968, 132.942, 317.002);
  bezierVertex(127.255, 316.078, 120.321, 314.387, 115.801, 314.773);
  bezierVertex(112.159, 315.084, 108.94, 317.411, 105.823, 319.319);
  bezierVertex(102.634, 321.271, 96.245, 324.829, 96.668, 326.482);
  bezierVertex(97.09, 328.135, 105.077, 329.582, 108.357, 329.237);
  bezierVertex(111.45, 328.912, 113.257, 324.791, 116.345, 324.414);
  bezierVertex(120.138, 323.95, 126.607, 324.912, 131.119, 326.458);
  bezierVertex(135.617, 327.999, 139.195, 331.499, 143.416, 333.687);
  bezierVertex(148.029, 336.078, 154.172, 338.593, 158.794, 340.804);
  bezierVertex(162.945, 342.79, 167.261, 344.499, 171.152, 346.954);
  bezierVertex(175.603, 349.762, 181.118, 354.286, 185.499, 357.655);
  bezierVertex(189.531, 360.755, 193.467, 364.604, 197.433, 367.164);
  bezierVertex(201.137, 369.556, 209.293, 373.019, 209.293, 373.019);
  endShape();

  translate(-5, -55);
  stroke(nodeBackgroundColor);
  strokeWeight(6);

  for (const node in nodeArray) {
    fill(colorArray[node]);
    circle(nodeArray[node].x, nodeArray[node].y, 12);
    colorArray[node] = color(random(0, 256), random(0, 256), random(0, 256));
  }
  
 // saveCanvas(canvas, 'mom_' + str(frameCounter), 'jpg');
 // frameCounter++
}
